<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>



      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
      


</head>

<body>
<style>
    .fa, .far, .fas {
    font-family: "Font Awesome 5 Free",'Open Sans';
}
#subjects_id{
    /* margin-left: 56px !important; */
}

</style>

{% block sidebar %}
{% load static %}
<div class="sidenav aside scrollbar-hidden" id="mySidebar" style=" z-index: 8001 !important; margin-top: 20px !important; width: 58px;" onmouseover="toggleSidebar(main1)" onmouseout="toggleSidebar(main1)">
    <ul class="ul1" style="margin-top: 6px;">
        <br>
        <li class="color_teg_a">
            <a href="/shedule/" style="text-decoration: none;" ><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-calendar-date-fill" viewBox="0 0 16 16" style="margin-left: 17px; margin-top:-5px;">
                <path d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zm5.402 9.746c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2z"/>
                <path d="M16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-6.664-1.21c-1.11 0-1.656-.767-1.703-1.407h.683c.043.37.387.82 1.051.82.844 0 1.301-.848 1.305-2.164h-.027c-.153.414-.637.79-1.383.79-.852 0-1.676-.61-1.676-1.77 0-1.137.871-1.809 1.797-1.809 1.172 0 1.953.734 1.953 2.668 0 1.805-.742 2.871-2 2.871zm-2.89-5.435v5.332H5.77V8.079h-.012c-.29.156-.883.52-1.258.777V8.16a12.6 12.6 0 0 1 1.313-.805h.632z"/>
              </svg> <span style="margin-left: 17px; font-size: 16px;">{{schedule}}</span>   </a>
            <hr>
        </li>
        
      
        <li class="color_teg_a" id="Students_dropdown">
            <a href="#students_colaps" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" id="Students"><img src="../../../../static/img/student.svg" style="margin-left: 15px; font-size: 130%;margin-top: -6px; width: 23px;" width="20" height="20"> <span style="font-size: 16px; margin-left: 15px;">{{students1}}</span><span class="caret cr1"></span></img>  </a>
            <ul class="collapse list-unstyled" id="students_colaps">
                <li class="subjects_id for_li" style="margin-left: 66px;">
                    <a href="/groups/">     {{stud_header.groups}}</a>
                </li>
                <li class="subjects_id for_li" style="margin-left: 66px;">
                    <a href="/students/">      {{stud_header.list}}</a>
                </li>
            </ul>
        </li>
        <br>
        <hr style="margin-top: 3px;">
        <a href=""  style="text-decoration: none;">
            <li class="color_teg_a"><img src="../../../../static/img/teacher.svg" style="margin-left: 15px; font-size: 130%; margin-top: -6px; width: 23px;" width="20" height="20" ></img><a href="/teachers/" style="font-size: 130%; text-decoration: none;">    <span style="font-size: 16px; margin-left: 15px;">{{teacher}}</span>  </a></li>
        </a>
        <hr>
        <li class="color_teg_a">
            <a href="#subjects_all" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" id="subj_after"><img
                    style="margin-left: 15px; font-size: 130%;margin-top: -6px;" src="../../../../static/img/books.svg" >   <span style="font-size: 16px;margin-left: 15px;">{{subjects}}</span> <span class="caret cr2"></span> </img> </a>
            <ul class="collapse list-unstyled" id="subjects_all">
                


            </ul>
        </li>
        <br>
        <hr style="margin-top: 3px;">
        <li class="color_teg_a">
            <a href="/rooms/"   style="text-decoration: none;"><svg xmlns="http://www.w3.org/2000/svg" style="margin-left: 16px;margin-top:-5px;" width="20" height="20" fill="currentColor" class="bi bi-door-open-fill" viewBox="0 0 16 16">
                <path d="M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>
              </svg> <span style="margin-left: 18px;font-size: 16px; text-decoration: none;">{{rooms}}</span>   </a>
            <hr>
        </li>
        
        {% if role != 'Teacher' %}
              
        <li class="color_teg_a">
            <a href="#archive_colapse" data-toggle="collapse" aria-expanded="false"  class="dropdown-toggle Archiv" id="subj_after2"><svg xmlns="http://www.w3.org/2000/svg" style="margin-left: 16px; margin-top:-5px" width="20" height="20" fill="currentColor" class="bi bi-archive-fill" viewBox="0 0 16 16">
                <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
              </svg>   <span style="margin-left: 18px; font-size: 16px;">{{archive}}</span> <span class="caret cr3"></span>  </a>
            <ul class="collapse list-unstyled" id="archive_colapse">
                <li class="subjects_id for_li" style="margin-left: 66px;">
                    <a href="/archive/Students/" > {{arch.stud}}</a>
                </li>
                <li class="subjects_id for_li" style="margin-left: 66px;">
                    <a href="/archive/Teacher/"> {{arch.teach}}</a>
                </li>
                <li class="subjects_id for_li" style="margin-left: 66px;">
                    <a href="/archive/Groups/">{{arch.grp}}</a>
                </li>
                <li class="subjects_id" >
                   
                    <li class="color_teg_a entamenyu">
                        <a href="#lesonss_colaps" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" id=lesons_colaspitd style="font-weight: bold;" onclick="arraw_roting(this)">   {{arch.subj}} <span  id="arraw_archive" class="caret cr5" style="margin-left: 4px; margin-top: -2px; border-left: 6px solid transparent !important; border-right: 5px solid transparent; transform: rotate(270deg);" ></span> </a>
                        <ul class="collapse list-unstyled" id="lesonss_colaps">
                            <li class="subjects_id for_li" style="margin-left: 10px;">
                                <a href="/archive/Sections/" id='lesons_select'>    {{arch.subjects_menu.sections}}</a>
                            </li>
                            <li class="subjects_id for_li" style="margin-left: 10px;">
                                <a  href="/archive/Component/"id='lesons_select'>        {{arch.subjects_menu.component}}</a>
                            </li>
                            <li class="subjects_id for_li"  style="margin-left: 10px;">
                                <a  href="/archive/Lesosns/" id='lesons_select'>    {{arch.subjects_menu.lessons}}</a>
                            </li>

                        </ul>
                    </li>


                </li>
                
            </ul>
           
        </li><br>
        <hr style="margin-top: 3px;">
       
        
        {% endif %}
     
        <li class="color_teg_a for_li">
            <a href="/chat/" style="text-decoration: none;"  ><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" style="margin-left: 16px; margin-top:-5px;" fill="currentColor" class="bi bi-chat-fill" viewBox="0 0 16 16">
                <path d="M8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6-.097 1.016-.417 2.13-.771 2.966-.079.186.074.394.273.362 2.256-.37 3.597-.938 4.18-1.234A9.06 9.06 0 0 0 8 15z"/>
              </svg> <span style="margin-left: 16px; font-size: 16px;">{{chat}}</span>  <p style="color: red;display: inline-block; font-size: 18px;" id='sms_number'></p>  </a>
  
        </li>
        <hr style="margin-top: 13px !important">



    </ul>
</div>

<!-- ____________________________________Popoxutyunner_____________________________________________ -->

<style>
    .dropdown-toggle::after {
    margin-left: 143px;
    font-size: 140%;
    transform:rotate(269deg);
    display:none;
}
#subj_after::after {
    margin-left: 147px;
    font-size: 130%;
}
#subj_after2::after {
    margin-left: 151px;
    font-size: 140%;
}
#subj_after{
    text-decoration: none;
}
#Students {
    text-decoration: none;
}
#subj_after2 {
    text-decoration: none;
}
.sidenav {
  height: 100%; /* Full-height: remove this if you want "auto" height */
  width: 160px; /* Set the width of the sidebar */
  position: fixed; /* Fixed Sidebar (stay in place on scroll) */
  z-index: 1; /* Stay on top */
  top: 0; /* Stay at the top */
  left: 0;
  background-color: #111; /* Black */
  overflow-x: hidden; /* Disable horizontal scroll */
  padding-top: 20px;
}
.scrollbar-hidden::-webkit-scrollbar {
  display: none;
}
.for_li a {
    font-weight: bold;
    text-decoration: none;
}
.entamenyu{
    margin-left: 55px;
}
svg:hover {
    text-decoration: none;
}
a:hover {
    text-decoration: none;
}
.caret {
    border-top: 6px dashed;
    border-right: 6px solid transparent;
    border-left: 6px solid transparent;
    transform: rotate(270deg);
}
#mySidebar {
height: 100%;
/* width: 85px !important; */
position: fixed;
z-index: 1;
top: 0;
left: 0;
background-color: #111;
transition: 0.5s;
padding-top: 60px;
white-space: nowrap;
overflow-x: hidden !important;
}

</style>

<!-- ____________________________________________________________________________________________________ -->


  <audio id="myAudio" style="display: none;">
    <source src="{% static 'media/zvuk_chata/b972537cb923ebc.mp3' %}" type="audio/ogg">
    <source src="{% static 'media/zvuk_chata/b972537cb923ebc.mp3' %}"  type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  

  

  


  

<script>

var zvuk = document.getElementById("myAudio"); 
  
function playAudio() { 
    zvuk.play(); 
  } 
    $.ajax({
  method: "POST",
  url: "/chat/",
  dataType: 'json',
  data:{'get_room_name':'yes'},
  cache : false,
  }).done(function(res){
    $('#sms_number').html(res['mesige_not_reding'])
    var chatSocket = new WebSocket('ws://' + window.location.host + '/ws/chat/'+res['room_name']+'/');
    

  
    chatSocket.onmessage = function(e) {
        var data = JSON.parse(e.data);
        if ("message" in data){
        var sms_number=$('#sms_number').text()
        var sms_all=parseInt(sms_number)+1
        console.log(sms_all)
        $('#sms_number').html(sms_all)
        playAudio()

        }


        };







  })

    $("#Students").click(function(){
        let attribute=$("#Students").attr("aria-expanded")
        if(attribute=="false"){
            $(".cr1").css('transition','0.5s')
            $(".cr1").css('transform','rotate(360deg)')
        }
        else{
            $(".cr1").css('transition','0.5s')
            $(".cr1").css('transform','rotate(270deg)')
        }
    })
    $("#subj_after").click(function(){
        let attr2=$("#subj_after").attr("aria-expanded")
        if(attr2=="false"){
            $(".cr2").css('transition','0.5s')
           $(".cr2").css('transform','rotate(360deg)')
        }
        else {
            $(".cr2").css('transition','0.5s')
            $(".cr2").css('transform','rotate(270deg)')
        }
    })
    $("#subj_after2").click(function(){
        let attr3=$("#subj_after2").attr("aria-expanded")
        if(attr3=="false"){
            $(".cr3").css('transition','0.5s')
           $(".cr3").css('transform','rotate(360deg)')
        }
        else {
            $(".cr3").css('transition','0.5s')
            $(".cr3").css('transform','rotate(270deg)')
        }
    }) 
    $("#lesons_colaspitd").click(function(){
        let attr4=$("#lesons_colaspitd").attr('aria-expanded')
        if(attr4=='false'){
            $(".cr5").css('transition','0.5s')
            $(".cr5").css('transform','rotate(360deg)')
        }
        else{
            $(".cr5").css('transition','0.5s')
            $(".cr5").css('transform','rotate(270deg)')
        }
    }) 
    function arraw_roting(this_a){
          
          let open=this_a.getAttribute('aria-expanded')
          if (open==='true'){
              console.log('paka')
              $("#arraw_archive").css('transition','0.5s')
              $("#arraw_archive").css('transform','rotate(270deg)')
     
          }
          else {
             console.log('paka111')
             $("#arraw_archive").css('transition','0.5s')
              $("#arraw_archive").css('transform','rotate(360deg)')
          }
         
             }
</script>
<style>
    #main1 {
        transition: 0.5s;
        width: 102% !important;
        margin-left: -15%;
    }
</style>
<script>
    var x1=0;
    var y1=-15;
    var mini = true;

    function toggleSidebar(some_id){
      if (mini) {
        console.log("opening sidebar");
        document.getElementById("mySidebar").style.width = "300px";

        // document.getElementById("main1").style.marginLeft = x+'%';
        // // document.getElementById("students_tabletext_table_id").style.transitionDelay = 0.5+ "s";
        // // document.getElementById("some_id").style.width = 75+ "%";
        // document.getElementById("main1").style.width = '85%';

        this.mini = false;
      } else {
        console.log("closing sidebar");
        document.getElementById("mySidebar").style.width = "58px";

        // document.getElementById("main1").style.marginLeft = y+'%';
        // document.getElementById("main1").style.width = "102%";
        this.mini = true;
      }
    }
  
</script>
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title" style="margin-left: 30%;">Add New Subject</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="features">
                    <label for="">Subject Name</label>
                    <form method="post" style="border:none">

                        {% csrf_token %}
                        {{form.name}}
                        <br>
                        <button class="btn btn-success" value="1" type="submit" id="add1" style="float: right; margin-top: 20px; width: 155px; background: #356f30;">Add</button>

                    </form>
                </div>
                <!-- <div class="modal-footer"> -->
                    <!-- <button type="button" class="btn btn-default" data-dismiss="modal">Close</button> -->
                <!-- </div> -->
            </div>

        </div>
    </div>

</div>

</div>
{% endblock %}

</body>
</html>